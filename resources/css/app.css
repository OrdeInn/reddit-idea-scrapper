@import 'tailwindcss';

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';
@source '../**/*.vue';

/* ============================================================
   DESIGN SYSTEM — Signal Intelligence
   Single source of truth for all design tokens.
   Tailwind v4: @theme block generates utility classes from
   --color-*, --font-*, --spacing-*, etc. prefixes.
   ============================================================ */

@theme {
    /* ----------------------------------------------------------
       FONTS
       --font-* → generates font-sans, font-mono, font-display
       ---------------------------------------------------------- */
    --font-sans: 'General Sans', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
    --font-mono: 'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
    --font-display: 'Satoshi', ui-sans-serif, system-ui, sans-serif;

    /* ----------------------------------------------------------
       SURFACE COLORS (Light Mode defaults)
       --color-surface-* → generates bg-surface-primary, etc.
       ---------------------------------------------------------- */
    --color-surface-primary: #FAFBFC;
    --color-surface-secondary: #F3F4F6;
    --color-surface-tertiary: #E9EAEC;
    --color-surface-elevated: #FFFFFF;
    --color-surface-overlay: oklch(1 0 0 / 0.9);
    --color-surface-scrim: rgb(0 0 0 / 0.4);

    /* ----------------------------------------------------------
       BRAND COLORS — Teal/Emerald Palette
       --color-brand-* → generates bg-brand-500, text-brand-500, etc.
       ---------------------------------------------------------- */
    --color-brand-50: #ECFDF5;
    --color-brand-100: #D1FAE5;
    --color-brand-200: #A7F3D0;
    --color-brand-300: #6EE7B7;
    --color-brand-400: #34D399;
    --color-brand-500: #10B981;
    --color-brand-600: #059669;
    --color-brand-700: #047857;
    --color-brand-800: #065F46;
    --color-brand-900: #064E3B;

    /* ----------------------------------------------------------
       ACCENT COLORS — Electric Amber Palette
       Used for: star icons, highlights, score accents
       --color-accent-* → generates bg-accent-500, text-accent-400, etc.
       ---------------------------------------------------------- */
    --color-accent-400: #FBBF24;
    --color-accent-500: #F59E0B;
    --color-accent-600: #D97706;

    /* ----------------------------------------------------------
       CONTENT / TEXT COLORS (Light Mode defaults)
       --color-content-* → generates text-content-primary, etc.
       ---------------------------------------------------------- */
    --color-content-primary: #111827;
    --color-content-secondary: #4B5563;
    --color-content-tertiary: #9CA3AF;
    --color-content-inverse: #FFFFFF;

    /* ----------------------------------------------------------
       BORDER COLORS (Light Mode defaults)
       --color-border-* → generates border-border-default, etc.
       ---------------------------------------------------------- */
    --color-border-default: #E5E7EB;
    --color-border-subtle: #F3F4F6;
    --color-border-strong: #D1D5DB;

    /* ----------------------------------------------------------
       SCORE COLORS — Same in light & dark (accessible on both)
       --color-score-* → generates bg-score-excellent, text-score-poor, etc.
       ---------------------------------------------------------- */
    --color-score-excellent: #10B981;
    --color-score-good: #3B82F6;
    --color-score-average: #F59E0B;
    --color-score-poor: #EF4444;

    /* ----------------------------------------------------------
       STATUS COLORS — Same in light & dark
       --color-status-* → generates bg-status-success, etc.
       ---------------------------------------------------------- */
    --color-status-success: #10B981;
    --color-status-warning: #F59E0B;
    --color-status-error: #EF4444;
    --color-status-info: #3B82F6;
    --color-status-scanning: #8B5CF6;

    /* ----------------------------------------------------------
       EXTERNAL BRAND COLORS
       ---------------------------------------------------------- */
    --color-reddit-500: #FF5700;

    /* ----------------------------------------------------------
       SPACING TOKENS
       --spacing-* → generates p-1, m-2, gap-4, etc.
       Maps to Tailwind's 4px base unit scale.
       ---------------------------------------------------------- */
    --spacing-px: 1px;
    --spacing-0: 0rem;
    --spacing-0-5: 0.125rem;
    --spacing-1: 0.25rem;
    --spacing-1-5: 0.375rem;
    --spacing-2: 0.5rem;
    --spacing-2-5: 0.625rem;
    --spacing-3: 0.75rem;
    --spacing-3-5: 0.875rem;
    --spacing-4: 1rem;
    --spacing-5: 1.25rem;
    --spacing-6: 1.5rem;
    --spacing-7: 1.75rem;
    --spacing-8: 2rem;
    --spacing-9: 2.25rem;
    --spacing-10: 2.5rem;
    --spacing-12: 3rem;
    --spacing-14: 3.5rem;
    --spacing-16: 4rem;
    --spacing-20: 5rem;
    --spacing-24: 6rem;
    --spacing-32: 8rem;
    --spacing-40: 10rem;
    --spacing-48: 12rem;
    --spacing-56: 14rem;
    --spacing-64: 16rem;

    /* ----------------------------------------------------------
       BORDER RADIUS TOKENS
       --radius-* → generates rounded-sm, rounded-md, etc.
       ---------------------------------------------------------- */
    --radius-sm: 0.375rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.75rem;
    --radius-xl: 1rem;
    --radius-2xl: 1.5rem;
    --radius-full: 9999px;

    /* ----------------------------------------------------------
       SHADOW TOKENS
       --shadow-* → generates shadow-sm, shadow-md, etc.
       ---------------------------------------------------------- */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);

    /* ----------------------------------------------------------
       CUSTOM ANIMATIONS
       ---------------------------------------------------------- */
    --animate-shimmer: shimmer 1.5s infinite;
    --animate-gauge-fill: gauge-fill 1s ease-out forwards;
    --animate-count-up: count-up 0.5s ease-out forwards;
    --animate-toast-enter: toast-enter 0.3s ease-out forwards;
    --animate-toast-exit: toast-exit 0.25s ease-in forwards;
}

/* ============================================================
   DARK MODE OVERRIDES
   Applied when <html> has the .dark class (class strategy).
   Scoped to html.dark to prevent any child element with
   class="dark" from accidentally triggering overrides.
   Only surface, content, border, and overlay tokens change.
   Score and status colors intentionally unchanged.
   ============================================================ */
html.dark {
    --color-surface-primary: #0F1117;
    --color-surface-secondary: #171B25;
    --color-surface-tertiary: #1E2330;
    --color-surface-elevated: #1A1F2E;
    --color-surface-overlay: oklch(0.12 0.02 250 / 0.92);
    --color-surface-scrim: rgb(0 0 0 / 0.6);

    --color-content-primary: #F9FAFB;
    --color-content-secondary: #D1D5DB;
    --color-content-tertiary: #6B7280;
    --color-content-inverse: #111827;

    --color-border-default: #2D3548;
    --color-border-subtle: #1E2330;
    --color-border-strong: #3D4A63;
}

/* ============================================================
   CUSTOM KEYFRAMES
   ============================================================ */
@keyframes shimmer {
    0% {
        background-position: -200% 0;
    }
    100% {
        background-position: 200% 0;
    }
}

@keyframes gauge-fill {
    from {
        stroke-dashoffset: var(--gauge-circumference, 251.2);
    }
    to {
        stroke-dashoffset: var(--gauge-target-offset, 0);
    }
}

@keyframes count-up {
    from {
        opacity: 0;
        transform: translateY(4px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes toast-enter {
    from {
        opacity: 0;
        transform: translateX(100%);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes toast-exit {
    from {
        opacity: 1;
        transform: translateX(0);
    }
    to {
        opacity: 0;
        transform: translateX(100%);
    }
}

@keyframes toast-countdown {
    from {
        transform: scaleX(1);
    }
    to {
        transform: scaleX(0);
    }
}

@keyframes card-enter {
    from {
        opacity: 0;
        transform: translateY(16px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes page-enter {
    from {
        opacity: 0;
        transform: translateY(8px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ============================================================
   CUSTOM UTILITIES
   font-display generated by Tailwind from --font-display,
   but defining explicitly as fallback per ticket spec.
   ============================================================ */
@layer utilities {
    .font-display {
        font-family: var(--font-display);
    }

    /* Shimmer utility for skeleton loading */
    .bg-shimmer {
        background: linear-gradient(
            90deg,
            var(--color-surface-secondary) 25%,
            var(--color-surface-tertiary) 50%,
            var(--color-surface-secondary) 75%
        );
        background-size: 200% 100%;
        animation: shimmer 1.5s infinite;
    }

    /* Staggered card entrance animation — uses --stagger-delay CSS custom property */
    .stagger-card {
        animation: card-enter 400ms ease-out both;
        animation-delay: var(--stagger-delay, 0ms);
    }

    /* Page content transition */
    .page-enter {
        animation: page-enter 300ms ease-out both;
    }
}

/* ============================================================
   BASE STYLES
   Applied globally via @layer base.
   ============================================================ */
@layer base {
    /* Apply display font to all headings automatically */
    h1, h2, h3, h4, h5, h6 {
        font-family: var(--font-display);
    }

    /* Base form element styles */
    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="search"],
    input[type="url"],
    input[type="number"],
    textarea,
    select {
        background-color: var(--color-surface-elevated);
        color: var(--color-content-primary);
        border-color: var(--color-border-default);
        border-radius: var(--radius-md);
        transition: border-color 0.15s ease, box-shadow 0.15s ease;
    }

    input[type="text"]:focus,
    input[type="email"]:focus,
    input[type="password"]:focus,
    input[type="search"]:focus,
    input[type="url"]:focus,
    input[type="number"]:focus,
    textarea:focus,
    select:focus {
        outline: none;
        border-color: var(--color-brand-500);
        /* Precomputed rgba fallback for brand-500 (#10B981) focus ring */
        box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
    }

    input[type="checkbox"] {
        accent-color: var(--color-brand-500);
        border-color: var(--color-border-default);
        border-radius: var(--radius-sm);
    }

    /* Smooth color transitions for dark mode switching */
    * {
        transition-property: background-color, border-color, color;
        transition-duration: 0.15s;
        transition-timing-function: ease;
    }

    /* Ring color token using precomputed rgba for broad browser compat */
    *,
    ::before,
    ::after {
        --tw-ring-color: rgba(16, 185, 129, 0.3);
    }
}

/* ============================================================
   REDUCED MOTION SUPPORT — WCAG 2.1 AA
   Disables all decorative animations for users who prefer it.
   ============================================================ */
@media (prefers-reduced-motion: reduce) {
    *,
    ::before,
    ::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }

    .bg-shimmer {
        animation: none;
        background: var(--color-surface-secondary);
    }
}
